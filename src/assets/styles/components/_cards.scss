.cards {
	display: grid;
}

.card {
	border-top: 3px solid transparent;
	box-shadow: 0 0 5px rgba(0, 0, 0, 0.16);
	max-width: rem(367);
	padding: rem(22);
	position: relative;
	transition: box-shadow 0.1s;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:hover {
		box-shadow: 0 0 20px rgba(0, 0, 0, 0.25);
	}

	&:focus-within {
		border: solid 3px transparent;
		border-radius: 2px;
		box-shadow: 0 0 25px rgba(255, 98, 26, 0.25);
		padding: rem(22) rem(19) rem(19);
	}
}

.card + .card {
	margin-top: rem(40);
}

.card__image {
	margin-bottom: rem(22);
	margin-left: rem(-22);
	margin-right: rem(-22);
	margin-top: rem(-22);
	padding: 0;
}


.card__image img {
	display: block;
	height: auto;
	width: 100%;
}

.card__format {
	font-family: $font-family-sans;
	font-size: rem(14);
	font-weight: $font-weight-semibold;
	padding: rem(2) rem(10);
}

.card__external-link {
	align-items: center;
	background: $grey-200;
	border-bottom: solid 3px transparent;
	border-bottom-left-radius: 2px;
	border-left: solid 3px transparent;
	border-right: solid 3px transparent;
	color: $blue-500;
	display: flex;
	height: rem(50);
	justify-content: center;
	position: absolute;
	right: rem(-22);
	top: rem(-22);
	width: rem(52);

	svg path {
		fill: currentColor;
	}

	&:hover {
		border-color: $blue-500;
		color: $blue-400;
		padding-right: 0;
	}

	&:active {
		background: $blue-500;
		border-color: $blue-500;
		color: $white;
		outline: none;
	}

	&:focus {
		background: $blue-500;
		color: $white;
		outline: none;
	}
}

.card header {
	position: relative;
}

.card__title {
	font-size: rem(20);
	line-height: (30 / 20);
	margin-top: rem(12);

	a {
		font-weight: $font-weight-bold;
		line-height: inherit;
		margin-left: rem(-22);
		margin-right: rem(-22);
		min-width: calc(100% + #{rem(44)});
		padding-left: rem(22);
		padding-right: rem(22);

		&::after {
			content: "";
			display: none;
		}
	}
}

.card__date,
.card__byline {
	color: $grey-500;
	font-size: rem(14);
	margin-top: rem(6);
}

.card__locality {
	margin-top: rem(6);

	svg {
		height: 0.8em;

		path {
			fill: currentColor;
		}
	}
}

.card__byline + .card__locality {
	margin-top: rem(6);
}

.card__tags {
	margin-top: rem(15);
}

.card--resource {
	border-top-color: $red-400;

	&:focus-within {
		border-color: $red-400;
	}

	.card__format {
		background: unset;
		color: $black;
		font-family: $font-family-serif;
		font-weight: $font-weight-normal;
		padding: 0;
	}

	.card__title {
		&::before {
			background: $grey-500;
			content: "";
			display: block;
			height: 1px;
			margin-bottom: rem(16);
			margin-left: 0;
			margin-top: rem(14);
			width: rem(52);
		}

		a:focus {
			background: $red-400;
		}
	}

	.card__byline {
		font-size: rem(16);
	}
}

.card--blog {
	border-top-color: $red-300;

	&:focus-within {
		border-color: $red-300;
		box-shadow: 0 0 25px transparentize($red-300, 0.75);
	}

	.card__format {
		background: $red-300;
	}

	.card__title a:focus {
		background: $red-300;
		color: $black;
	}
}

.card--person {
	border-top-color: $blue-500;

	&:focus-within {
		border-color: $blue-500;
		box-shadow: 0 0 25px transparentize($blue-500, 0.75);
	}

	.card__format {
		background: $blue-500;
	}

	.card__title a:focus {
		background: $blue-500;
		color: $white;
	}
}


.card--news {
	border-top-color: $blue-500;

	&:focus-within {
		border-color: $blue-500;
		box-shadow: 0 0 25px transparentize($blue-500, 0.75);
	}

	.card__format {
		background: $blue-500;
		color: $white;
	}

	.card__date {
		display: inline-block;
	}

	.card__byline {
		display: inline-block;

		&::before {
			content: " \00b7 ";
		}
	}
}


.card--publication {
	border-top-color: $green-400;

	&:focus-within {
		border-color: $green-400;
		box-shadow: 0 0 25px transparentize($green-400, 0.75);

	}

	.card__format {
		background: $green-400;
		color: $white;
	}

	.card__title a:focus {
		background: $green-400;
	}
}

.card--event {
	border-top-color: $blue-300;

	&:focus-within {
		border-color: $blue-300;
		box-shadow: 0 0 25px transparentize($blue-300, 0.75);

	}

	.card__format {
		background: $blue-300;
	}

	.card__title a:focus {
		background: $blue-300;
		color: $black;
	}

	.card__date svg path {
		fill: $grey-500;
	}

	.card__locality {
		color: $grey-500;
		font-size: rem(14);

		svg path {
			fill: $black;
		}
	}
}

.card--platformcoop {
	border-top-color: $green-300;

	&:focus-within {
		border-color: $green-300;
		box-shadow: 0 0 25px rgba(11, 132, 65, 0.25);
	}

	.card__format {
		background: $green-300;
	}

	.card__external-link {
		&:hover {
			border-color: $green-300;
		}

		&:active {
			background: $green-300;
			border-color: $green-300;
			color: $black;
		}

		&:focus {
			background: $green-300;
			color: $black;
		}
	}

	.card__locality {
		color: $grey-500;
		font-size: rem(14);

		svg path {
			fill: $black;
		}
	}
}

@include breakpoint-up(md) {
	.cards {
		display: grid;
		gap: rem(30);
		grid-template-columns: repeat(2, 1fr);
	}

	.card + .card {
		margin-top: 0;
	}
}

@include breakpoint-up(lg) {
	.cards {
		grid-template-columns: repeat(3, 1fr);
	}
}
